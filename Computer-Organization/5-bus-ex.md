# 总线习题

## 总线概述

### 总线类型

**例题** 在系统总线的数据线上，不可能传输的是()。

$A.$指令

$B.$操作数

$C.$握手（应答）信号

$D.$中断类型号

解：$C$。不是数据线上传输的就代表不是数据。指令和操作数都是数据。中断类型号用来指出中断向量的地址，$CPU$响应中断请求后，将中断应答信号$INTR$发回数据总线，$CPU$从数据总线上读取中断类型号后查找中断向量表找到对应中断处理程序入口。而握手应答信号属于同学联络控制信号，所以应该控制总线上传输。

**例题** 下列关于总线设计的叙述中，错误的是()。

$A.$并行总线传输比串行总线传输速度快

$B.$采用信号线复用技术可减少信号线数量

$C.$采用突发传输方式可提高总线数据传输率

$D.$采用分离事务通信方式可提高总线利用率

解：$A$。并不是绝对的，由于并行导线随着时钟频率不断变高，相互干扰越来越严重，所需要的恢复时间远比串行总线的恢复时间长。

### 性能指标

**例题** 某同步总线采用数据线和地址线复用方式，其中地址/数据线有$32$根，总线时钟频率为$66MHz$，每个时钟周期传送两次数据（上升沿和下降沿各传送一次数据）。

1）该总线的最大数据传输率（总线带宽）是多少？

2）若该总线支持突发（猝发）传输方式，传输一个地址占用一个时钟周期，则一次“主存写”总线事务传输128位数据所需要的时间至少是多少？

解：

1）因为每个时钟周期传送两次数据，所以总线工作频率是时钟周期的两倍$=2×66MHz=132MHz$。

又总线根数为$32$，所以总线宽度$=32bit=4B$。

总线带宽$=132M×4B/s=528MB/s$。

2）突发传输方式指传输一个首地址，后面的数据就都可以得到。

首先传输一个地址就占用一个时钟周期。而后面需要传输$128$位，按一次传输$32$位，则一共需要传输$4$次，每个时钟周期传输两次数据，所以需要花费两个时钟周期，加在一起一共需要三个时钟周期。

又一个时钟周期$=1\div66MHZ\approx15ns$，所以总耗时$45ns$。

## 总线仲裁

**例题** 在计数器定时查询方式下，以下描述中正确的是()。

$A.$总线设备的优先级可变

$B.$设备越靠近控制器，优先级越高

$c.$各设备的优先级相等

$D.$各设备获得总线控制权的机会均等

解：$A$。在计数器定时查询方式下，根据计数值的初始值的不同，总线设备的优先级是可变的。若计数值从“$0$”开始，则离总线控制器最近的设备具有最高的优先级。若计数值从上一次的中止点开始，则各个设备使用总线的机会均等。

## 总线操作与定时

**例题** 在异步总线中，传送操作()。

$A.$由设备控制器控制

$B.$由$CPU$控制

$C.$由统一时序信号控制

$D.$按需分配时间

解：$D$。异步总线即采用异步通信方式的总线。在异步方式下，没有公用的时钟，完全依靠传送双方相互制约的“握手”信号来实现定时控制。传送操作是由双方按需求分配时间的。

**例题** 在异步串行传输方式下，起始位为$1$位，数据位为$7$位，偶校验位为$1$位，停止位为$1$位，如果波特率为$1200bit/s$，求这时的有效数据传输率为多少？

解：波特率就是单位时间内传送的二进制数据的位数。而比特率是单位时间内传送的有效二进制数据的位数。

所以：比特率÷波特率=数据位数÷(数据位数+其他附加位数)。

从而有效数据传输率$=1200\times7\div(1+7+1+1)=840bit/s$。

## 总线标准

如果不知道选什么就选$USB$。

**例题** 在现代微机主板上，采用局部总线技术的作用是（)。

$A.$节省系统的总带宽

$B.$提高抗干扰能力

$C.$抑制总线终端反射

$D.$构成紧耦合系统

解：$A$。
